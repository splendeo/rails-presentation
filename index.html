<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Ruby on Rails</title>

  <link rel="stylesheet" href="./css/reset.css" type="text/css"/>
  <link rel="stylesheet" href="./css/showoff.css" type="text/css"/>

  <script type="text/javascript" src="./js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src="./js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src="./js/jquery-print.js"></script>
  <script type="text/javascript" src="./js/jquery.batchImageLoad.js"></script>

  <script type="text/javascript" src="./js/jquery.doubletap-0.1.js"></script>

  <script type="text/javascript" src="./js/fg.menu.js"></script>
  <script type="text/javascript" src="./js/showoff.js"></script>
  <script type="text/javascript" src="./js/jTypeWriter.js"> </script>
  <script type="text/javascript" src="./js/sh_main.min.js"></script>
  <script type="text/javascript" src="./js/core.js"></script>
  <script type="text/javascript" src="./js/showoffcore.js"></script>

  <link type="text/css" href="./css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/sh_style.css" rel="stylesheet" >

  
    <link rel="stylesheet" href="file/something.css" type="text/css"/>
  

  

  <script type="text/javascript">
  $(function(){
    setupPreso(false, './');
  });
  </script>
</head>

<body>


<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>

<div id="help">
  <table>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">&larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">z</td><td>toggle help (this)</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso">loading presentation...</div>
<div id="footer">
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
</div>

<div id="slides" class="offscreen" style="display:none;">
<div class="slide" data-transition="none"><div class="content title-slide" ref="intro/intro/1">
<h1>Ruby on Rails</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="intro/intro/2">
<h1>Sections</h1>

<ul>
<li>intro</li>
<li>installing ruby</li>
<li>ruby</li>
<li>rails</li>
<li>rails app</li>
<li>gems</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="intro/intro/3">
<h1>Language vs Framework</h1>

<ul>
<li>Ruby = Language</li>
<li>Rails = Framework</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="intro/intro/4">
<h1>Language vs Framework</h1>

<ul>
<li>Ruby ~ PHP / Java / C#</li>
<li>Rails ~ Trax / Struts / ?</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content subsection" ref="ruby-install/ruby-install/1">
<h1>Installing Ruby</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="ruby-install/ruby-install/2">
<h1>rvm</h1>

<ul>
<li>"Ruby Version Manager"</li>
<li>Mac &amp; Ubuntu</li>
<li><a href="https://rvm.beginrescueend.com/">https://rvm.beginrescueend.com/</a></li>
<li>Follow instructions to install ruby 1.9.2</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="ruby-install/ruby-install/3">
<h1>rubyinstaller</h1>

<ul>
<li>For windows</li>
<li><a href="http://rubyinstaller.org">http://rubyinstaller.org</a></li>
<li>Download and install ruby 1.9.2</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content subsection" ref="ruby/ruby/1">
<h1>Ruby</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="ruby/ruby/2">
<h1>Several environments</h1>

<ul>
<li>1.8.7 - legacy</li>
<li>1.9.2 - standard</li>
<li>jRuby - jvm</li>
<li>rubinious</li>
<li>...</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets commandline" ref="ruby/ruby/3">
<h1>Interactive Ruby</h1>

<ul>
<li>*nix  : <code>irb</code></li>
<li>windows: <code>fxri</code></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="ruby/ruby/4">
<pre><code><code class="command">$irb(main):001:0&gt; "Hello World"</code><code class="result">
=&gt; "Hello World"

</code><code class="command">$irb(main):001:0&gt; 1+1</code><code class="result">
=&gt; 2

</code><code class="command">$irb(main):001:0&gt; puts("Hello World")</code><code class="result">
"Hello World"
=&gt; nil
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="ruby/ruby/5">
<h1>Ruby has <strong>conventions</strong></h1>

<ul>
<li>Programmer-enforced Rules</li>
<li><em>Not</em> compiler-enforced</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="ruby/ruby/6">
<h1>Convention: Indentation</h1>

<ul>
<li>Always two spaces</li>
<li>No tabs</li>
<li>No discussion</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="ruby/ruby/7">
<h1>Convention: Names</h1>

<ul>
<li>Class names are <code>CamelCased</code></li>
<li>Constants are <code>ALL_CAPS_WITH_UNDERSCORES</code>*</li>
<li>Everything else is <code>under_scored</code></li>
</ul>


<p>* Not entirely true</p>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="ruby/ruby/8">
<h1>Object Oriented</h1>

<pre class="sh_ruby"><code>class Person

  def initialize(name)
    @name = name
  end

  def speak()
    puts("Hi, I am #{@name}")
  end

end

peter = Person.new("Peter")
peter.speak() # Hi, I am Peter</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="ruby/ruby/9">
<h1>Inheritance</h1>

<pre class="sh_ruby"><code>class Employee &lt; Person

  def initialize(name, salary)
    super(name)
    @salary = salary
  end

end

michael = Employee.new("Michael", 10000)
michael.speak() # Hi, I am Michael</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="ruby/ruby/10">
<h1>Optional parenthesis</h1>

<h2>(most of the time)</h2>

<pre class="sh_ruby"><code>sam = Employee.new("Sam", 30000)
sam.speak()

# same result:
sam = Employee.new "Sam", 30000
sam.speak</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="ruby/ruby/11">
<h1>Convention: Question mark</h1>

<h2>On methods returning only <code>true</code> or <code>false</code></h2>

<pre class="sh_ruby"><code>17.even?   # false
"".empty?  # true</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="ruby/ruby/12">
<h1>Convention: Excl. mark</h1>

<h2>On <em>state-modifying <strong>versions</strong> of methods</em></h2>

<pre class="sh_ruby"><code>str = "Hello"
other = str.upcase # doesn't modify str

puts(str)   # Hello
puts(other) # HELLO

str.upcase! # modifies str
puts(str)   # HELLO</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="ruby/ruby/13">
<h1><em>Everything</em> is an object</h1>

<pre class="sh_ruby"><code>1.next         # 2
-15.abs        # 15
"hello".length # 5

# Lots of stuff built-in:

1.methods.count  # 130
"".methods.count # 160</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="ruby/ruby/14">
<h1><code>nil</code> and <code>false</code></h1>

<ul>
<li>The only "falsy" values</li>
<li>They are also objects</li>
<li>Everything else is "truthy"</li>
<li><code>obj.nil?</code> method</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content" ref="ruby/ruby/15">
<h1>Arrays</h1>

<pre class="sh_ruby"><code>
array = [ 1, 2, 3, "catorce" ]

array[4] # returns "catorce"
array[4] = 4
array[4] # returns 4</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="ruby/ruby/16">
<h1>Parsing an array with <code>each</code></h1>

<pre class="sh_ruby"><code>
[ 1, 2, 3, 4 ].each do |n|
  puts(n)
end

# or

[ 1, 2, 3, 4 ].each{ |n| puts(n) }</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="ruby/ruby/17">
<h1><code>String</code> vs <code>Symbol</code></h1>

<pre class="sh_ruby"><code>string = "hello"
symbol = :hello

string != symbol      # not equal
string == symbol.to_s # unless converted</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="ruby/ruby/18">
<h1><code>String</code> vs <code>Symbol</code> (II)</h1>

<ul>
<li><code>String</code>: <em>text that changes</em>, ex. db text fields.</li>
<li><code>Symbol</code>: <em>text that identifes</em>, ex. "enums"</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="ruby/ruby/19">
<h1>Hashes</h1>

<ul>
<li>Can use anything as keys/values</li>
<li>Frequently use symbols for keys</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content" ref="ruby/ruby/20">
<pre class="sh_ruby"><code>
properties = {
  :name =&gt; "number_of_dwarves",
  :value =&gt; 7
}

properties[:name]      # "number_of_dwarves"
properties[:value]     # 7
properties[:value] = 6 # a dwarf died
properties[:value]     # returns 6</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="ruby/ruby/21">
<h1>Hash.each</h1>

<pre class="sh_ruby"><code>
hash = { :a =&gt; 1, :b =&gt; 2 }

hash.each do |k, val|
  puts("#{k} =&gt; #{val}")
end

# or

hash.each{ |k, val| puts("#{k} =&gt; #{val}") }</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="ruby/ruby/22">
<h1>gems</h1>

<ul>
<li>Gems are Ruby's "Libraries"</li>
<li>Manageable through the <code>gem</code> command</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content commandline" ref="ruby/ruby/23">
<pre><code><code class="command">$ gem install gem_name</code><code class="result">
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content subsection" ref="rails/rails/1">
<h1>Rails</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="rails/rails/2">
<h1>Concepts</h1>

<ul>
<li>Model</li>
<li>View</li>
<li>Controller</li>
<li>Migration</li>
<li>Route</li>
<li>Scaffolding</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="rails/rails/3">
<h1>Model</h1>

<ul>
<li>~ db information + business logic</li>
<li>Usually mapped to a db table</li>
<li>Employee, Company, Player, Article</li>
<li>Located in <code>app/models</code></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="rails/rails/4">
<h1>View</h1>

<ul>
<li>~ html + css; user interface</li>
<li>Reusability: helpers and layouts</li>
<li>Connected to the controller</li>
<li>Located in <code>app/views</code></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="rails/rails/5">
<h1>Controller</h1>

<ul>
<li>~ CRUD actions on models</li>
<li>Sends / receives information from views</li>
<li><code>params</code> variable =&gt; hashed parameters</li>
<li>Located in <code>app/controllers</code></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="rails/rails/6">
<h1>Migration</h1>

<ul>
<li>Ruby code that modifies the DB structure</li>
<li>Controlled via the <code>rake db:xxx</code> commands</li>
<li>Located in <code>db/migrate</code></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="rails/rails/7">
<h1>Routes</h1>

<ul>
<li>Translates urls into controller actions</li>
<li>Located in <code>db/config/routes.rb</code></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="rails/rails/8">
<h1>Scaffolding</h1>

<ul>
<li>Boilerplate MVC+migration code</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content subsection" ref="rails-app/rails-app/1">
<h1>Rails App</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline" ref="rails-app/rails-app/2">
<h1>Install rails</h1>

<pre><code><code class="command">$ gem install rails</code><code class="result">
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline" ref="rails-app/rails-app/3">
<h1>Create a rails app</h1>

<pre><code><code class="command">$ rails new to_do</code><code class="result">

  create  README
  create  Rakefile
  ...
  create  vendor/plugins/
  create  vendor/plugins/.gitkeep
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline" ref="rails-app/rails-app/4">
<h1>Launch the site</h1>

<pre><code><code class="command">$ cd to_do</code><code class="result">

</code><code class="command">$ rails s</code><code class="result">
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="rails-app/rails-app/5">
<pre><code>.
&#x251C;&#x2500;&#x2500; app
&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; models
&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; views
&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; controllers
&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; ...
&#x251C;&#x2500;&#x2500; config
&#x251C;&#x2500;&#x2500; db
&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; migrate
&#x251C;&#x2500;&#x2500; public
&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; images
&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; javascripts
&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; stylesheets
&#x2514;&#x2500;&#x2500; ...
</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline" ref="rails-app/rails-app/6">
<h1>Project Scaffolding</h1>

<pre><code><code class="command">$ rails g scaffold Project name:string</code><code class="result">

  create    db/migrate/20110627160358_create_projects.rb
  create    app/models/project.rb
  ...
  route  resources :projects
  ...
  create    app/controllers/projects_controller.rb
  ...
  create      app/views/projects
  create      app/views/projects/index.html.erb
  create      app/views/projects/edit.html.erb
  create      app/views/projects/show.html.erb
  create      app/views/projects/new.html.erb
  create      app/views/projects/_form.html.erb
  ...
  create    public/stylesheets/scaffold.css
  ...
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline" ref="rails-app/rails-app/7">
<h1>Run migrations!</h1>

<pre><code><code class="command">$ rake db:migrate</code><code class="result">

  ==  CreateProjects: migrating =================================================
  -- create_table(:projects)
     -&gt; 0.0026s
  ==  CreateProjects: migrated (0.0027s) ========================================

Creates a table with 4 fields: id, name, created_at &amp; updated_at
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="rails-app/rails-app/8">
<h1>Interact with your projects</h1>

<ul>
<li><code>rails s</code></li>
<li>localhost:8080/projects</li>
<li>Create 3 projects.</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="rails-app/rails-app/9">
<h2>db/migrate/...projects.rb</h2>

<pre class="sh_ruby"><code>class CreateProjects &lt; ActiveRecord::Migration
  def self.up
    create_table :projects do |t|
      t.string :name

      t.timestamps
    end
  end

  def self.down
    drop_table :projects
  end
end</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="rails-app/rails-app/10">
<h2>app/controllers/projects_controller.rb</h2>

<pre class="sh_ruby"><code>class ProjectsController &lt; ApplicationController

  index, show, new, create
  edit, update, &amp; destroy

end</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="rails-app/rails-app/11">
<h2>app/views/projects/</h2>

<pre><code>.
&#x251C;&#x2500;&#x2500; edit.html.erb
&#x251C;&#x2500;&#x2500; _form.html.erb
&#x251C;&#x2500;&#x2500; index.html.erb
&#x251C;&#x2500;&#x2500; new.html.erb
&#x2514;&#x2500;&#x2500; show.html.erb
</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="rails-app/rails-app/12">
<h2>config/routes.rb</h2>

<pre class="sh_ruby"><code>Todo::Application.routes.draw do
  resources :projects
...
end</code></pre>

<h2>app/models/project.rb</h2>

<pre class="sh_ruby"><code>class Project &lt; ActiveRecord::Base
end</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="rails-app/rails-app/13">
<h2>Validations</h2>

<pre class="sh_ruby"><code>class Project &lt; ActiveRecord::Base
  validates_presence_of :name
  validates_uniqueness_of :name
end</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline" ref="rails-app/rails-app/14">
<h1>Task scaffolding</h1>

<pre><code><code class="command">$ rails g scaffold Task name:string project_id:integer done:boolean</code><code class="result">
...
</code><code class="command">$ rake db:migrate</code><code class="result">
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="rails-app/rails-app/15">
<h1>belongs_to &amp; has_many</h1>

<pre class="sh_ruby"><code># app/models/project.rb
class Project &lt; ActiveRecord::Base
  ...
  has_many :tasks
end

# app/models/task.rb
class Task &lt; ActiveRecord::Base
  belongs_to :project
end</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="rails-app/rails-app/16">
<h1>before_filter</h1>

<pre class="sh_ruby"><code># app/controllers/tasks_controller.rb

class TasksController &lt; ApplicationController
  before_filter :calculate_projects

  private

  def calculate_projects
    @projects = Project.all
  end
end</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="rails-app/rails-app/17">
<h1>before_filter</h1>

<pre class="sh_ruby"><code># app/controllers/tasks_controller.rb

class TasksController &lt; ApplicationController
  before_filter :calculate_projects,
    :except =&gt; :index

  private

  def calculate_projects
    @projects = Project.all
  end
end</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="rails-app/rails-app/18">
<h1>Statuses</h1>

<pre class="sh_ruby"><code># app/views/tasks/_form.rb

&lt;%= f.text_field :status %&gt;

# change that to this VVVVVV

&lt;%= f.collection_select :status, Task::STATUSES,
    :to_s, :to_s, :include_blank =&gt; true
%&gt;</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="rails-app/rails-app/19">
<h1>Statuses (II)</h1>

<pre class="sh_ruby"><code># app/views/tasks/_form.rb

&lt;%= f.text_field :status %&gt;

# change that to this VVVVVV

&lt;%= f.collection_select :status, Task::STATUSES,
    :to_s, :to_s, :include_blank =&gt; true
%&gt;</code></pre>
</div>
</div></div>

</body>
</html>
